'use strict';function init_color_picker(){$(".sp-color-picker").spectrum({preferredFormat:"hex",showInitial:!0,chooseText:"Choisir",cancelText:"Annuler"})}
function init_select2(a=null,b,g="body",e=[],c=!0){b=null;b=a?"select"==a?$("select").not(".swal2-select").filter(function(){return!this.closest(".dataTables_length")}):$(a):$(".select2_single, .has-select2, .select2_multiple, .select2-multiple, .select2-single, .select2");b.each(function(){var d=$(this);d.attr("placeholder")||d.data("select2-placeholder");d.prop("multiple");d=d.select2({tokenSeparators:[","],data:e,theme:"bootstrap-5",dropdownParent:$(g||"body"),escapeMarkup:function(f){return f},
minimumInputLength:0,noResults:function(){return"Aucun r\u00e9sultat"},searching:function(){return"Recherche\u2026"}});d.next(".select2-container").width("100%");if(Array.isArray(e)&&e.length&&c){let f=[];e.forEach(h=>{f.push(h.id)});d.val(f).trigger("change")}})}function init_text_editor(a,b={}){$(".has-editor").each(function(){const g=$(this);g.data("height")&&(a=+g.data("height"));b=$.extend({height:a?+a:800,lang:"fr-FR"},b);g.summernote(b)})}
function init_date_picker(a=null,b="down",g=null,e=null,c=null,d=!0,f=null,h=null,k=null){k=k||"DD/MM/YYYY";let l=!1;".datetimepicker"==a&&(k+=" HH:mm",l=!0);console.log(a);h=f=null;a=$(a?a:".has-datepicker");a.hasClass("datetimepicker")&&!l&&(k+=" HH:mm",l=!0);if(!c&&!e){var m=new Date;e=m.getFullYear()-5;c=m.getFullYear()+10}e&&!f&&(f="01/01/"+e);c&&!h&&(h="31/12/"+c);a.each(function(p,r){var n=$(this);n.hasClass("no-auto")&&(d=!1);d||g||(g=(q,t)=>{n.val(q.format(k))});n.daterangepicker({singleDatePicker:!0,
autoUpdateInput:d,showDropdowns:!0,autoApply:!0,timePicker24Hour:l,timePicker:l,maxYear:+c,minYear:+e,minDate:f,maxDate:h,drops:b,locale:{format:k,firstDay:1,applyLabel:"Choisir",cancelLabel:"Annuler",daysOfWeek:"Di Lu Ma Me Je Ve Sa".split(" "),monthNames:"Janvier Fevrier Mars Avril Mai Juin Juillet A\u00f4ut Septembre Octobre Novembre Decembre".split(" ")}},g)})}
$(function(){$(document).ready(function(){init_select2("select");$(".has-datepicker").not(".skip-init").each(function(){init_date_picker($(this))});$(document).on("focus",".select2-selection.select2-selection--single",function(a){$(this).closest(".select2-container").siblings("select:enabled").select2("open")});$(".form-control.select-search").on("select2:closing",function(a){$(a.target).data("select2").$selection.one("focus focusin",function(b){b.stopPropagation()})});$(".alert-tmp").closest(".alert").fadeOut(1E3);
$(".input-float").each(function(){const a=$(this);a[0].hasAttribute("im-insert")||a.inputmask({alias:"numeric",allowMinus:!1})});"undefined"!=typeof $.spectrum&&init_color_picker();$(".custom-file input").change(function(a){a=[];for(var b=0;b<$(this)[0].files.length;b++)a.push($(this)[0].files[b].name);$(this).next(".custom-file-label").html(a.join(", "))});$(".custom-file input").change(function(a){a=[];for(var b=0;b<$(this)[0].files.length;b++)a.push($(this)[0].files[b].name);$(this).next(".custom-file-label").html(a.join(", "))});
$(".grid-dt-wrapper").on("init.dt",function(a,b,g){var e=new $.fn.dataTable.Api(b);a=$(this).attr("id");$(".text-filter","#"+a).on("input",function(){const c=$(this);e.columns(c.attr("data-index")).search(this.value).draw()});$(".select2-filter","#"+a).on("change",function(){const c=$(this);e.columns(c.attr("data-index")).search(this.value).draw()});$(".date-filter").each(function(){var c=$(this);c=$("#"+c.attr("id"));init_date_picker(c,"down",(d,f)=>{},null,null,!1);c.on("apply.daterangepicker blur",
function(d,f){const h=$(this);let k="";if("apply"==d.type&&"daterangepicker"==d.namespace)k=val=f.startDate.format("DD/MM/YYYY");else if(val=h.val()){let [l,m,p]=val.split("/");k=p+"-"+m+"-"+l}h.val(val);e.columns(h.attr("data-index")).search(k).draw()})})})})});